  <!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>ARJAP - Admin s√©curis√©</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f5f7fa;
      color: #0b2f2f;
      text-align: center;
      padding: 20px;
    }
    .navbar {
      background: #0b2f2f;
      padding: 15px;
      border-radius: 50px;
      margin-bottom: 30px;
    }
    .navbar button {
      background: transparent;
      border: 2px solid #ffb347;
      color: white;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 30px;
      cursor: pointer;
      font-weight: bold;
    }
    .page {
      display: none;
      background: white;
      padding: 30px;
      border-radius: 20px;
      max-width: 600px;
      margin: auto;
    }
    .page.active { display: block; }
    .logo {
      width: 120px; height: 120px;
      border-radius: 50%;
      border: 5px solid #ffb347;
    }
    input, textarea {
      width: 90%;
      padding: 12px;
      margin: 10px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
    }
    .btn {
      background: #ffb347;
      border: none;
      padding: 12px 30px;
      border-radius: 30px;
      font-weight: bold;
      cursor: pointer;
      margin: 5px;
    }
    .btn-wa { background: #25D366; color: white; }
    .btn-danger { background: #ff4444; color: white; }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .article-card {
      background: #f9f9f9;
      padding: 15px;
      border-radius: 15px;
      position: relative;
    }
    .article-card img {
      max-width: 100%;
      max-height: 200px;
      border-radius: 10px;
      margin-top: 10px;
    }
    .delete-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: red;
      color: white;
      border: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
    }
    .password-box {
      background: #0b2f2f;
      color: white;
      padding: 20px;
      border-radius: 15px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>

<!-- ===== MENU ===== -->
<div class="navbar">
  <button onclick="showPage('home')">üè† Accueil</button>
  <button onclick="showPage('form')">üìù Inscription</button>
  <button onclick="showPage('articles')">üì∞ Publications</button>
  <button onclick="showPage('admin')">‚ö° Admin</button>
  <button onclick="openPDF()">üìÑ Plan ARJAP</button>
</div>

<!-- ===== ACCUEIL ===== -->
<div id="home" class="page active">
  <img src="photo.jpg" class="logo">
  <h1>Bienvenue √† ARJAP</h1>
  <p><strong>Association R√©volutionnaire des Jeunes Ambitieux Panafricains</strong></p>
  <button class="btn" onclick="showPage('form')">üìù Devenir membre</button>
  
  <h2 style="margin-top:40px;">üá¶üá´ GRANDS PANAFRICAINS</h2>
  <div class="grid">
    <div class="article-card">
      <img src="image2.jpg">
      <h3>Kwame Nkrumah</h3>
      <p>"L'Afrique doit s'unir"</p>
    </div>
    <div class="article-card">
      <img src="image2.jpg">
      <h3>Thomas Sankara</h3>
      <p>"Osons inventer"</p>
    </div>
    <div class="article-card">
      <img src="image2.jpg">
      <h3>Patrice Lumumba</h3>
      <p>H√©ros ind√©pendance</p>
    </div>
    <div class="article-card">
      <img src="image2.jpg">
      <h3>Cheikh Anta Diop</h3>
      <p>Savant s√©n√©galais</p>
    </div>
  </div>
</div>

<!-- ===== FORMULAIRE INSCRIPTION ===== -->
<div id="form" class="page">
  <h2>üìã Devenir membre</h2>
  <input id="nom" placeholder="Nom">
  <input id="prenom" placeholder="Pr√©nom">
  <input id="telephone" placeholder="T√©l√©phone">
  <input id="nationalite" placeholder="Nationalit√©">
  <button class="btn btn-wa" onclick="envoyerWA()">üì± Envoyer WhatsApp</button>
  <button class="btn" onclick="showPage('home')">‚Üê Retour</button>
</div>

<!-- ===== PUBLICATIONS ===== -->
<div id="articles" class="page">
  <h2>üì¢ Publications</h2>
  <div id="articlesList" class="grid">Chargement...</div>
  <button class="btn" onclick="showPage('home')">‚Üê Retour</button>
</div>

<!-- ===== ADMIN SECURISE ===== -->
<div id="admin" class="page">
  <h2>‚ö° Espace Admin</h2>
  
  <!-- MOT DE PASSE -->
  <div id="passwordBox" class="password-box">
    <h3>üîê Acc√®s s√©curis√©</h3>
    <input type="password" id="adminPassword" placeholder="Mot de passe" style="width:80%;">
    <button class="btn" onclick="checkPassword()">Valider</button>
  </div>
  
  <!-- ZONE ADMIN (CACH√âE) -->
  <div id="adminZone" style="display:none;">
    <h3>üìù Publier un article</h3>
    <input id="titre" placeholder="Titre">
    <textarea id="contenu" placeholder="Contenu..." rows="4"></textarea>
    
    <!-- UPLOAD PHOTO -->
    <div style="margin:15px 0;">
      <label for="photoInput" style="background:#f0f0f0; padding:10px 20px; border-radius:30px; cursor:pointer;">
        üì∑ Ajouter une photo
      </label>
      <input type="file" id="photoInput" accept="image/*" style="display:none;" onchange="previewPhoto()">
      <div id="photoPreview" style="margin-top:10px;"></div>
    </div>
    
    <button class="btn" onclick="publier()">üì§ Publier</button>
    
    <hr style="margin:30px 0;">
    <h3>üóëÔ∏è G√©rer les articles</h3>
    <div id="adminList"></div>
  </div>
  
  <button class="btn" onclick="showPage('home')">‚Üê Retour</button>
</div>

<script>
// ===== MOT DE PASSE ADMIN =====
const ADMIN_PASSWORD = "ARJAP2024"; // Change ce mot de passe ici

function checkPassword() {
  const entered = document.getElementById('adminPassword').value;
  if(entered === ADMIN_PASSWORD) {
    document.getElementById('passwordBox').style.display = 'none';
    document.getElementById('adminZone').style.display = 'block';
    chargerAdmin();
  } else {
    alert('‚ùå Mot de passe incorrect');
  }
}

// ===== NAVIGATION =====
function showPage(pageId) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById(pageId).classList.add('active');
  
  // R√©initialiser l'admin si on quitte
  if(pageId !== 'admin') {
    document.getElementById('passwordBox').style.display = 'block';
    document.getElementById('adminZone').style.display = 'none';
    document.getElementById('adminPassword').value = '';
  }
}

// ===== PDF =====
function openPDF() {
  window.open('plan_arjap.pdf', '_blank');
}

// ===== WHATSAPP =====
function envoyerWA() {
  const nom = document.getElementById('nom').value.trim();
  const prenom = document.getElementById('prenom').value.trim();
  const tel = document.getElementById('telephone').value.trim();
  const nat = document.getElementById('nationalite').value.trim();
  
  if(!nom || !prenom || !tel || !nat) {
    alert('‚ùå Remplis tous les champs');
    return;
  }
  
  const msg = `*ARJAP - Nouvelle inscription*%0Aüë§ Nom: ${nom}%0Aüë§ Pr√©nom: ${prenom}%0Aüìû T√©l: ${tel}%0Aüåç Nationalit√©: ${nat}`;
  
  window.open(`https://wa.me/237653375470?text=${msg}`, '_blank');
  window.open(`https://wa.me/237653794702?text=${msg}`, '_blank');
  
  alert('‚úÖ WhatsApp ouvert !');
  
  document.getElementById('nom').value = '';
  document.getElementById('prenom').value = '';
  document.getElementById('telephone').value = '';
  document.getElementById('nationalite').value = '';
  
  showPage('home');
}

// ===== GESTION DES ARTICLES (AVEC PHOTOS) =====
let articles = [
  { 
    titre: "Bienvenue", 
    contenu: "ARJAP est en ligne !", 
    photo: null 
  }
];

// Pr√©visualisation photo
function previewPhoto() {
  const file = document.getElementById('photoInput').files[0];
  if(file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      document.getElementById('photoPreview').innerHTML = 
        `<img src="${e.target.result}" style="max-width:200px; max-height:150px; border-radius:10px; border:2px solid #ffb347;">`;
    };
    reader.readAsDataURL(file);
  }
}

// Publier avec photo
function publier() {
  const titre = document.getElementById('titre').value.trim();
  const contenu = document.getElementById('contenu').value.trim();
  const photoFile = document.getElementById('photoInput').files[0];
  
  if(!titre || !contenu) {
    alert('Remplis le titre et le contenu');
    return;
  }
  
  if(photoFile) {
    const reader = new FileReader();
    reader.onload = function(e) {
      articles.push({ 
        titre, 
        contenu, 
        photo: e.target.result 
      });
      terminerPublication();
    };
    reader.readAsDataURL(photoFile);
  } else {
    articles.push({ titre, contenu, photo: null });
    terminerPublication();
  }
}

function terminerPublication() {
  document.getElementById('titre').value = '';
  document.getElementById('contenu').value = '';
  document.getElementById('photoInput').value = '';
  document.getElementById('photoPreview').innerHTML = '';
  chargerArticles();
  chargerAdmin();
  alert('‚úÖ Article publi√© !');
}

// Charger articles publics
function chargerArticles() {
  const list = document.getElementById('articlesList');
  if(articles.length === 0) {
    list.innerHTML = '<p>Aucune publication</p>';
    return;
  }
  
  let html = '';
  articles.forEach(a => {
    html += `<div class="article-card">
      <h3>${a.titre}</h3>
      <p>${a.contenu}</p>`;
    if(a.photo) {
      html += `<img src="${a.photo}" alt="Photo">`;
    }
    html += `</div>`;
  });
  list.innerHTML = html;
}

// Charger admin (avec boutons supprimer)
function chargerAdmin() {
  const list = document.getElementById('adminList');
  if(articles.length === 0) {
    list.innerHTML = '<p>Aucun article</p>';
    return;
  }
  
  let html = '';
  articles.forEach((a, index) => {
    html += `<div class="article-card" style="position:relative;">
      <button class="delete-btn" onclick="supprimer(${index})">üóëÔ∏è</button>
      <h3>${a.titre}</h3>
      <p>${a.contenu.substring(0, 50)}...</p>`;
    if(a.photo) {
      html += `<img src="${a.photo}" style="max-width:100px;">`;
    }
    html += `</div>`;
  });
  list.innerHTML = html;
}

// Supprimer article
function supprimer(index) {
  if(confirm('Supprimer cet article ?')) {
    articles.splice(index, 1);
    chargerArticles();
    chargerAdmin();
  }
}

// Charger au d√©marrage
chargerArticles();
</script>

</body>
        </html>
